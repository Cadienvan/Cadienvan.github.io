<section class='nes-container with-title'>
  <h3 class='title'>Il Podcast Open Source</h3>
  <a
    class='spreaker-player'
    href='https://www.spreaker.com/podcast/il-podcast-open-source--6544191'
    data-resource='show_id=6544191'
    data-width='100%'
    data-height='350px'
    data-theme='light'
    data-playlist='show'
    data-playlist-continuous='false'
    data-chapters-image='true'
    data-episode-image-position='right'
    data-hide-logo='false'
    data-hide-likes='false'
    data-hide-comments='false'
    data-hide-sharing='false'
    data-hide-download='true'
    data-title='Il Podcast Open Source'
    data-cover='https%3A%2F%2Fd3wo5wojvuv7l.cloudfront.net%2Fimages.spreaker.com%2Foriginal%2Fd3819422d78a7271dfc95c88096d65ab.jpg'>Ascolta "Il Podcast Open Source" su Spreaker.</a
  >
  <script async src='https://widget.spreaker.com/widgets.js'></script>
  <script>
      const setPlayerTheme = (theme: "light" | "dark") => {
        const spreakerPlayer = document.querySelector(".spreaker-player");
      if (!spreakerPlayer) return;
        spreakerPlayer.setAttribute("data-theme", theme);
        // Also take the iframe src and update it
        if (spreakerPlayer) {
          const src = spreakerPlayer.getAttribute("src");
          // Update "theme=light" or "theme=dark" in the src URL
          const newSrc = src
            ? src.replace(/theme=(light|dark)/, `theme=${theme}`)
            : null;
          if (newSrc) {
            spreakerPlayer.setAttribute("src", newSrc);
          }
        }
      };
      // Listen for theme changes
      window.addEventListener("themeChange", (e: any) => {
      const spreakerPlayer = document.querySelector(".spreaker-player");
      if (!spreakerPlayer) return;
        const newTheme = e.detail.theme as "light" | "dark";
        setPlayerTheme(newTheme);
      });
  </script>
</section>
